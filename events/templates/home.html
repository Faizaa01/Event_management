{% extends 'base.html' %}
{% load static %}

{% block content %}
{% comment %} hero section {% endcomment %}
  <div class="relative isolate px-6 pt-14 lg:px-8 min-h-screen">
    <div class="absolute inset-0 -z-10">
        <div id="bgSlider" class="flex transition-transform duration-500 ease-in-out h-full">
            <div class="w-full flex-shrink-0 h-full">
                <img src="{% static 'img/pic1.jpg' %}" alt="" class="w-full h-full object-cover">
            </div>
        </div>
        <div class="absolute inset-0 bg-black/40"></div>
    </div>

    <div class="relative z-10 mx-auto max-w-2xl py-32 sm:py-48 lg:py-56">
        <div class="text-center">
            <h1 class="text-5xl font-semibold tracking-tight text-balance text-white sm:text-7xl">Master Every Moment</h1>
            <p class="mt-8 text-lg font-medium text-pretty text-gray-200 sm:text-xl/8">From planning to participation â€” manage events with ease, clarity, and confidence.</p>
            <div class="mt-10 flex items-center justify-center gap-x-6">
            </div>
        </div>
    </div>
</div>



{% comment %} Search {% endcomment %}
  <section class="bg-gradient-to-r from-indigo-800 via-purple-900 to-blue-700 py-20">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-8">
              <h1 class="text-5xl md:text-6xl font-bold m-2">Event Search</h1>
              <p class="text-sm font-medium uppercase tracking-wider mb-2">FIND OUR BEST EVENT</p>
          </div>
          <div class="max-w-4xl mx-auto">
              <form method="GET" action="{% url 'search' %}" class="flex flex-col md:flex-row gap-4">
                  <div class="flex-1">
                      <input type="text" name="query" value="{{ query }}" placeholder="Event name or location etc"
                      class="w-full px-4 py-3 rounded-lg border-0 focus:ring-2 focus:ring-white text-gray-900 placeholder-gray-500 shadow-md">
                  </div>
                  <div class="flex items-end">
                      <button type="submit"
                          class="bg-gray-800 hover:bg-gray-900 text-white px-8 py-3 rounded-lg font-medium transition-all duration-200 ease-in-out transform hover:scale-105 whitespace-nowrap">
                          SEARCH EVENT
                      </button>
                  </div>
              </form>
          </div>
      </div>
</section>



{% comment %} event lists {% endcomment %}
<section class="py-16 bg-zinc-200">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="mb-12">
      <h2 class="text-4xl font-bold text-gray-800 mb-4">Event Lists</h2>
      <p class="text-xl text-gray-600">Discover amazing events happening near you</p>
    </div>

{% if data %}
  <div class="grid gap-10">
    {% for event in data %}
      <div class="max-w-6xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden flex flex-col sm:flex-row">
        <div class="w-full sm:w-80 relative h-48 sm:h-auto flex-shrink-0">
          <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('{% static "img/2.jpg" %}');"></div>
          <div class="absolute top-4 left-4 bg-sky-800 text-white p-4 rounded text-center font-bold w-16 sm:w-20">
            <div class="text-3xl sm:text-4xl leading-none mb-1">{{ event.date|date:"d" }}</div>
            <div class="text-xs sm:text-sm tracking-wider">{{ event.date|date:"F" }}</div>
          </div>
        </div>

        <div class="flex-1 p-4 sm:p-8 flex flex-col justify-between">
          <div>
            <h2 class="text-2xl sm:text-3xl text-sky-900 mb-2 font-semibold">{{ event.name }}</h2>
            <p class="text-gray-600 leading-relaxed mb-4">{{ event.description|truncatewords:30 }}</p>
          </div>

          <div class="flex flex-wrap gap-4 sm:gap-8 items-center">
            <div class="flex items-center gap-3 min-w-[120px]">
              <div class="w-10 h-10 bg-violet-400 rounded-full flex items-center justify-center text-white"><i class="fa-solid fa-location-dot"></i></div>
              <div>
                <div class="text-gray-400 text-xs">Location</div>
                <div class="text-gray-800 font-bold truncate">{{ event.location }}</div>
              </div>
            </div>
            <div class="flex items-center gap-3 min-w-[120px]">
              <div class="w-10 h-10 bg-blue-400 rounded-full flex items-center justify-center text-white"><i class="fa-regular fa-file"></i></div>
              <div>
                <div class="text-gray-400 text-xs">Category</div>
                <div class="text-gray-800 font-bold truncate">{{ event.category.name }}</div>
              </div>
            </div>
            <div class="flex items-center gap-3 min-w-[120px]">
              <div class="w-10 h-10 bg-indigo-400 rounded-full flex items-center justify-center text-white"><i class="fa-solid fa-person-dress"></i></div>
              <div>
                <div class="text-gray-400 text-xs">Participants</div>
                <div class="text-gray-800 font-bold">{{ event.participants.count }}</div>
              </div>
            </div>
            <div class="w-full sm:w-auto flex justify-center sm:justify-start pt-3 sm:pt-0">
              <a href="{% url 'Event-details' event.id %}">
                <button class="bg-indigo-900 border-2 border-gray-300 px-6 py-3 text-white font-bold text-sm tracking-wider rounded-lg hover:bg-gray-400 hover:text-black transition">
                  DETAILS
                </button>
              </a>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
    {% else %}
    <div class="text-center text-gray-500 text-lg mt-12">
        No events found.
    </div>
{% endif %}

  </div>
</section>




{% endblock %}

